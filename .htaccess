# Enable mod_rewrite
<IfModule mod_rewrite.c>
RewriteEngine On

# ----------------------------
# Universal internal rewrite
# ----------------------------
# If the request is to a directory AND does not end with a file
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_FILENAME}/index.php -f
# Internally rewrite to index.php inside that folder
RewriteRule ^(.*)$ $1/index.php [L]

# Optional: redirect all other missing files to 404 or index.php
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^ index.php [L]
</IfModule>

# Disable automatic trailing slash redirects globally
DirectorySlash Off

# Security: prevent listing directories
Options -Indexes
