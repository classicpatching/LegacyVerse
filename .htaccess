# Enable mod_rewrite
<IfModule mod_rewrite.c>
RewriteEngine On

# ----------------------------
# Remove .php extension from URLs
# ----------------------------
# Internally rewrite requests like /list to /list.php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php [L]

# ----------------------------
# Universal internal rewrite for directories
# ----------------------------
# If the request is to a directory AND does not end with a file
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_FILENAME}/index.php -f
RewriteRule ^(.*)$ $1/index.php [L]

# Optional: redirect all other missing files to index.php
# RewriteCond %{REQUEST_FILENAME} !-f
# RewriteCond %{REQUEST_FILENAME} !-d
# RewriteRule ^ index.php [L]
</IfModule>

# Disable automatic trailing slash redirects globally
DirectorySlash Off

# Security: prevent listing directories
Options -Indexes
